# Discover é¡µé¢ç»„

## ğŸ“– æ¦‚è¿°

Discover é¡µé¢ç»„æ˜¯åº”ç”¨çš„å†…å®¹å‘ç°æ ¸å¿ƒæ¨¡å—ï¼ŒåŒ…å«å†…å®¹å±•ç¤ºã€è¯¦æƒ…æŸ¥çœ‹ã€äº’åŠ¨åŠŸèƒ½ç­‰ç›¸å…³é¡µé¢ï¼Œé‡‡ç”¨å±‚çº§åŒ–é¡µé¢ç»„æ¶æ„ã€‚

## ğŸ—ï¸ æ¶æ„ç»“æ„

```
src/pages/Discover/                                 # Discover é¡µé¢ç»„
â”œâ”€â”€ index.ts                                        # é¡µé¢ç»„å…¥å£æ–‡ä»¶
â”œâ”€â”€ types.ts                                        # é¡µé¢ç»„ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts                                    # é¡µé¢ç»„å¸¸é‡é…ç½®
â”œâ”€â”€ README.md                                       # é¡µé¢ç»„æ–‡æ¡£
â”‚
â”œâ”€â”€ MainPage/                                       # ä¸»é¡µé¢ - å†…å®¹å‘ç°å±•ç¤º
â”‚   â”œâ”€â”€ index.tsx                                   # ä¸»é¡µé¢å®ç°ï¼ˆæ–°åˆ›å»ºï¼Œå¾…å®Œå–„ï¼‰
â”‚   â”œâ”€â”€ types.ts                                    # ä¸»é¡µé¢ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ constants.ts                                # ä¸»é¡µé¢å¸¸é‡é…ç½®
â”‚   â”œâ”€â”€ README.md                                   # ä¸»é¡µé¢æ–‡æ¡£
â”‚   â”‚
â”‚   â”œâ”€â”€ çº¯ç»“æ„æ¶æ„å›¾æ ‡å‡†æ¨¡æ¿.md                     # æ¶æ„è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ [UIè®¾è®¡å›¾ç‰‡èµ„æº]                            # å„ç§UIè®¾è®¡å›¾ç‰‡
â”‚   â”‚   â”œâ”€â”€ å‘ç°-çƒ­é—¨.png
â”‚   â”‚   â”œâ”€â”€ å‘ç°-åŒåŸ.png
â”‚   â”‚   â”œâ”€â”€ å‘ç°-å…³æ³¨.png
â”‚   â”‚   â”œâ”€â”€ åŠ¨æ€-å›¾æ–‡.png
â”‚   â”‚   â”œâ”€â”€ åŠ¨æ€-è§†é¢‘.png
â”‚   â”‚   â”œâ”€â”€ å‘å¸ƒ-åŠ¨æ€.png
â”‚   â”‚   â””â”€â”€ [å…¶ä»–è®¾è®¡å›¾ç‰‡...]
â”‚   â”‚
â”‚   â””â”€â”€ [å¾…åˆ›å»ºçš„ç»„ä»¶åŒºåŸŸ]
â”‚       â”œâ”€â”€ TabBarArea/                             # æ ‡ç­¾æ åŒºåŸŸï¼ˆçƒ­é—¨/åŒåŸ/å…³æ³¨ï¼‰
â”‚       â”œâ”€â”€ ContentFeedArea/                        # å†…å®¹æµåŒºåŸŸï¼ˆç€‘å¸ƒæµï¼‰
â”‚       â”œâ”€â”€ FilterArea/                             # ç­›é€‰åŒºåŸŸ
â”‚       â””â”€â”€ PublishButtonArea/                      # å‘å¸ƒæŒ‰é’®åŒºåŸŸ
â”‚
â”œâ”€â”€ DetailPage/                                     # è¯¦æƒ…é¡µé¢ - å†…å®¹è¯¦æƒ…å±•ç¤º
â”‚   â”œâ”€â”€ index.tsx                                   # è¯¦æƒ…é¡µé¢å®ç°ï¼ˆä» DiscoverDetailPage.tsx è¿ç§»ï¼‰
â”‚   â”œâ”€â”€ types.ts                                    # è¯¦æƒ…é¡µé¢ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ constants.ts                                # è¯¦æƒ…é¡µé¢å¸¸é‡é…ç½®
â”‚   â”œâ”€â”€ README.md                                   # è¯¦æƒ…é¡µé¢æ–‡æ¡£
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                                 # âš ï¸ å¾…é‡æ„çš„ç»„ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ CommentInput.tsx                        # è¯„è®ºè¾“å…¥ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ CommentList.tsx                         # è¯„è®ºåˆ—è¡¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DetailHeader.tsx                        # è¯¦æƒ…å¤´éƒ¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ImageViewer.tsx                         # å›¾ç‰‡æŸ¥çœ‹å™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ UserInfoCard.tsx                        # ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ InteractionActionBarExample.tsx         # äº¤äº’æ“ä½œæ ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ README_InteractionActionBar.md          # äº¤äº’æ“ä½œæ æ–‡æ¡£
â”‚   â”‚
â”‚   â”œâ”€â”€ events/                                     # äº‹ä»¶å¤„ç†ï¼ˆå·²æŒ‰æ–°æ¶æ„ç»„ç»‡ï¼‰
â”‚   â”‚   â”œâ”€â”€ navigateToChat.ts                       # å¯¼èˆªåˆ°èŠå¤©
â”‚   â”‚   â”œâ”€â”€ navigateToDiscover.ts                   # å¯¼èˆªåˆ°å‘ç°é¡µ
â”‚   â”‚   â”œâ”€â”€ navigateToProfile.ts                    # å¯¼èˆªåˆ°ç”¨æˆ·é¡µ
â”‚   â”‚   â”œâ”€â”€ navigateToReport.ts                     # å¯¼èˆªåˆ°ä¸¾æŠ¥é¡µ
â”‚   â”‚   â””â”€â”€ README.md                               # äº‹ä»¶å¤„ç†æ–‡æ¡£
â”‚   â”‚
â”‚   â”œâ”€â”€ examples/                                   # ä½¿ç”¨ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ DetailHeaderWithReportExample.tsx       # å¸¦ä¸¾æŠ¥åŠŸèƒ½çš„å¤´éƒ¨ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ DiscoverIntegrationExample.tsx          # å‘ç°é¡µé›†æˆç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ NavigationEventsExample.tsx             # å¯¼èˆªäº‹ä»¶ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ NavigationExample.tsx                   # å¯¼èˆªç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ UsageExample.tsx                        # ä½¿ç”¨ç¤ºä¾‹
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                                      # çŠ¶æ€ç®¡ç†é’©å­
â”‚   â”‚   â””â”€â”€ useDiscoverDetail.ts                    # è¯¦æƒ…é¡µçŠ¶æ€ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                                   # æ•°æ®æœåŠ¡
â”‚   â”‚   â””â”€â”€ DetailDataService.ts                    # è¯¦æƒ…æ•°æ®æœåŠ¡
â”‚   â”‚
â”‚   â””â”€â”€ types/                                      # è¯¦æƒ…é¡µç±»å‹å®šä¹‰
â”‚       â””â”€â”€ index.ts                                # ç±»å‹å®šä¹‰æ–‡ä»¶
â”‚
â”œâ”€â”€ useDiscover.ts                                  # é¡µé¢ç»„ä¸»çŠ¶æ€ç®¡ç†
â”œâ”€â”€ useDiscoverData.ts                              # é¡µé¢ç»„æ•°æ®çŠ¶æ€ç®¡ç†
â””â”€â”€ navigateDiscoverFlow.ts                        # é¡µé¢ç»„å¯¼èˆªæµç¨‹ç®¡ç†
```

## ğŸ¯ é¡µé¢è¯´æ˜

### ğŸ“± MainPage - å†…å®¹å‘ç°ä¸»é¡µé¢
- **åŠŸèƒ½**: å†…å®¹å‘ç°å±•ç¤ºï¼ŒåŒ…å«çƒ­é—¨ã€åŒåŸã€å…³æ³¨ä¸‰ä¸ªæ ‡ç­¾é¡µï¼Œç€‘å¸ƒæµå†…å®¹å±•ç¤º
- **ä½ç½®**: `./MainPage/`
- **å…¥å£**: `index.tsx`ï¼ˆæ–°åˆ›å»ºï¼Œå¾…å®Œå–„å…·ä½“åŠŸèƒ½ï¼‰
- **åŸå§‹ä½ç½®**: `src/screens/discover/`
- **ç‰¹è‰²**: åŒ…å«å®Œæ•´çš„UIè®¾è®¡å›¾ç‰‡èµ„æºå’Œæ¶æ„è®¾è®¡æ–‡æ¡£

### ğŸ“„ DetailPage - å†…å®¹è¯¦æƒ…é¡µé¢
- **åŠŸèƒ½**: å†…å®¹è¯¦æƒ…å±•ç¤ºï¼ŒåŒ…å«è¯„è®ºã€äº’åŠ¨ã€ç”¨æˆ·ä¿¡æ¯ç­‰å®Œæ•´åŠŸèƒ½
- **ä½ç½®**: `./DetailPage/`
- **å…¥å£**: `index.tsx`ï¼ˆä» `DiscoverDetailPage.tsx` è¿ç§»ï¼‰
- **åŸå§‹ä½ç½®**: `src/screens/discover-detail/`
- **ç‰¹è‰²**: å®Œæ•´çš„ç»„ä»¶ä½“ç³»ã€äº‹ä»¶å¤„ç†ã€çŠ¶æ€ç®¡ç†ã€æ•°æ®æœåŠ¡

## ğŸ”„ è¿ç§»çŠ¶æ€

### âœ… å·²å®Œæˆ
- [x] åŸºç¡€ç›®å½•ç»“æ„åˆ›å»º
- [x] ä¸»é¡µé¢å†…å®¹è¿ç§» (`src/screens/discover` â†’ `./MainPage/`)
- [x] è¯¦æƒ…é¡µé¢å†…å®¹è¿ç§» (`src/screens/discover-detail` â†’ `./DetailPage/`)
- [x] é¡µé¢ç»„å…¥å£æ–‡ä»¶åˆ›å»º
- [x] é¡µé¢ç»„åŸºç¡€æ¶æ„æ–‡ä»¶åˆ›å»º
- [x] é¡µé¢ç»„çŠ¶æ€ç®¡ç†å±‚åˆ›å»º
- [x] é¡µé¢ç»„å¯¼èˆªå±‚åˆ›å»º

### ğŸ”„ è¿›è¡Œä¸­
- [ ] MainPage å…·ä½“åŠŸèƒ½å®ç°ï¼ˆç›®å‰åªæ˜¯åŸºç¡€æ¡†æ¶ï¼‰
- [ ] ç§»é™¤ DetailPage ä¸­çš„ `components/` ä¸­é—´å±‚çº§
- [ ] å¯¼å…¥è·¯å¾„æ›´æ–°
- [ ] åŠŸèƒ½æµ‹è¯•éªŒè¯

### ğŸ“‹ å¾…å®Œæˆ
- [ ] MainPage ç»„ä»¶åŒºåŸŸåˆ›å»ºå’Œå®ç°
- [ ] DetailPage ç»„ä»¶åŒºåŸŸé‡æ„ï¼ˆå°† `components/` ä¸‹çš„ç»„ä»¶é‡æ„ä¸ºç»„ä»¶åŒºåŸŸï¼‰
- [ ] APIæ¥å£å±‚å®Œå–„ï¼ˆå†…å®¹è·å–ã€äº’åŠ¨æ¥å£ç­‰ï¼‰
- [ ] å›¾ç‰‡å’Œè§†é¢‘å¤„ç†ä¼˜åŒ–
- [ ] æ— é™æ»šåŠ¨å’Œè™šæ‹ŸåŒ–åˆ—è¡¨
- [ ] æ–‡æ¡£å®Œå–„

## âš ï¸ é‡æ„æ³¨æ„äº‹é¡¹

### MainPage å¾…å®ç°åŠŸèƒ½
å½“å‰ MainPage åªæ˜¯åŸºç¡€æ¡†æ¶ï¼Œéœ€è¦å®ç°ï¼š
- æ ‡ç­¾æ åˆ‡æ¢ï¼ˆçƒ­é—¨/åŒåŸ/å…³æ³¨ï¼‰
- ç€‘å¸ƒæµå†…å®¹å±•ç¤º
- ä¸‹æ‹‰åˆ·æ–°å’Œä¸Šæ‹‰åŠ è½½
- ç­›é€‰å’Œæœç´¢åŠŸèƒ½
- å‘å¸ƒæŒ‰é’®å’Œå¿«é€Ÿæ“ä½œ

### DetailPage éœ€è¦é‡æ„çš„ `components/` ç›®å½•
```
DetailPage/components/ â†’ é‡æ„ä¸ºç»„ä»¶åŒºåŸŸï¼š
â”œâ”€â”€ CommentInput.tsx â†’ CommentInputArea/
â”œâ”€â”€ CommentList.tsx â†’ CommentListArea/
â”œâ”€â”€ DetailHeader.tsx â†’ DetailHeaderArea/
â”œâ”€â”€ ImageViewer.tsx â†’ ImageViewerArea/
â”œâ”€â”€ UserInfoCard.tsx â†’ UserInfoCardArea/
â””â”€â”€ InteractionActionBarExample.tsx â†’ InteractionActionBarArea/examples/
```

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å¯¼å…¥é¡µé¢ç»„ä»¶
```typescript
// å¯¼å…¥ä¸»é¡µé¢
import { DiscoverMainPage } from '@/pages/Discover';

// å¯¼å…¥å­é¡µé¢
import { DiscoverDetailPage } from '@/pages/Discover';

// å¯¼å…¥ç±»å‹å’Œå¸¸é‡
import { 
  DiscoverNavigationParams, 
  DiscoverContentItem, 
  DISCOVER_ROUTES, 
  DISCOVER_CATEGORIES 
} from '@/pages/Discover';

// å¯¼å…¥çŠ¶æ€ç®¡ç†
import { useDiscover, useDiscoverData, navigateDiscoverFlow } from '@/pages/Discover';
```

### çŠ¶æ€ç®¡ç†ä½¿ç”¨
```typescript
const MyComponent = () => {
  // ä½¿ç”¨é¡µé¢ç»„çŠ¶æ€ç®¡ç†
  const {
    currentFilter,
    currentPostId,
    switchCategory,
    addTagFilter,
  } = useDiscover();

  // ä½¿ç”¨æ•°æ®çŠ¶æ€ç®¡ç†
  const {
    contentList,
    currentPost,
    isLoadingContent,
    toggleLike,
    toggleCollect,
    loadMore,
  } = useDiscoverData();

  // å¤„ç†å†…å®¹äº¤äº’
  const handleContentClick = (postId: string, userId?: string) => {
    navigateDiscoverFlow.viewPostDetail(postId, userId);
  };

  return (
    // ç»„ä»¶JSX
  );
};
```

### å¯¼èˆªä½¿ç”¨
```typescript
// å¯¼èˆªåˆ°å„ä¸ªé¡µé¢
navigateDiscoverFlow.toMain();
navigateDiscoverFlow.toDetail({ postId: 'post123' });

// å¤åˆå¯¼èˆªæ“ä½œ
navigateDiscoverFlow.viewPostDetail('post123', 'user456');
navigateDiscoverFlow.chatWithUser('user456', 'ç”¨æˆ·å');
navigateDiscoverFlow.reportContent('post123');

// ç­›é€‰å¯¼èˆª
navigateDiscoverFlow.filterByCategory('hot');
navigateDiscoverFlow.filterByTag('ç‹è€…è£è€€');

// å¤„ç†äº¤äº’å¯¼èˆª
navigateDiscoverFlow.handleContentInteraction('view', 'post123', 'user456');
navigateDiscoverFlow.handleUserInteraction('chat', 'user456', 'ç”¨æˆ·å');
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ¶æ„æ ‡å‡†**: ä¸¥æ ¼éµå¾ª `UNIVERSAL_COMPONENT_ARCHITECTURE_CORE.md` æ ‡å‡†
2. **å†…å®¹ç±»å‹**: æ”¯æŒæ–‡å­—ã€å›¾ç‰‡ã€è§†é¢‘å¤šç§å†…å®¹ç±»å‹
3. **æ€§èƒ½ä¼˜åŒ–**: éœ€è¦è™šæ‹ŸåŒ–åˆ—è¡¨å’Œå›¾ç‰‡æ‡’åŠ è½½
4. **å®æ—¶æ›´æ–°**: è€ƒè™‘ç‚¹èµã€è¯„è®ºç­‰å®æ—¶çŠ¶æ€åŒæ­¥
5. **ç¼“å­˜ç­–ç•¥**: å†…å®¹åˆ—è¡¨å’Œè¯¦æƒ…çš„æœ¬åœ°ç¼“å­˜
6. **ç»„ä»¶é‡æ„**: DetailPage éœ€è¦å°†ç°æœ‰ `components/` é‡æ„ä¸ºç»„ä»¶åŒºåŸŸæ¶æ„
7. **MainPage å®Œå–„**: éœ€è¦å®ç°å®Œæ•´çš„å†…å®¹å‘ç°åŠŸèƒ½

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [UNIVERSAL_COMPONENT_ARCHITECTURE_CORE.md](../../.cursor/rules/UNIVERSAL_COMPONENT_ARCHITECTURE_CORE.md)
- [MainPage README](./MainPage/README.md)
- [DetailPage README](./DetailPage/README.md)
- [çº¯ç»“æ„æ¶æ„å›¾æ ‡å‡†æ¨¡æ¿.md](./MainPage/çº¯ç»“æ„æ¶æ„å›¾æ ‡å‡†æ¨¡æ¿.md)
- [DetailPage ç»„ä»¶æ–‡æ¡£](./DetailPage/components/README_InteractionActionBar.md)
