# 🎯 组局报名流程架构设计

> **基于原型图的标准化树状图 + 流程图设计**  
> **组局详情 → 报名支付 → 状态反馈的完整报名闭环**

---

## 📖 目录

- [功能概述](#功能概述)
- [树状图（页面结构视角）](#树状图页面结构视角)
- [流程图（用户操作视角）](#流程图用户操作视角)
- [UI设计特性](#ui设计特性)

---

## 🎯 功能概述

### 功能定位
**组局报名流程**是组局中心的核心参与功能，包含从查看组局详情、确认报名支付到获得最终状态反馈的完整参与闭环，支持私信沟通和支付报名两种参与方式。

### 核心特性
- ✅ **完整详情展示**：活动背景、发起者信息、活动详情、参与者状态的全面展示
- ✅ **双重参与方式**：私信沟通和直接报名支付两种参与路径
- ✅ **支付确认流程**：金币支付、余额检查、费用确认的安全支付流程
- ✅ **状态跟踪反馈**：等待选择、报名成功、报名失败的完整状态管理
- ✅ **实时状态更新**：参与者状态实时同步，支持状态变更通知

---

## 🌳 树状图（页面结构视角）

```
【组局报名流程模块】★★★★★
│
├── 【组局详情页面】📱 (复杂详情页面 - 活动展示+信息详情+参与者状态)
│   ├── 📱 状态栏 (系统状态栏显示)
│   │
│   ├── 🔝 详情页导航栏 📋 (固定头部导航栏)
│   │   ├── 🔙「返回」按钮 (左侧返回按钮 + 页面转场动画)
│   │   ├── 📝 "详情" 页面标题 (居中显示)
│   │   └── ⋯「更多」按钮 (右侧更多操作按钮 - 分享/举报/收藏)
│   │
│   ├── 🎥 活动展示区域 📋 (活动背景展示卡片)
│   │   ├── 🖼️ 活动背景大图 (全宽背景图 + 16:9比例 + 渐变遮罩)
│   │   │   ├── 🎮 游戏界面背景 (英雄联盟游戏画面)
│   │   │   ├── 🎯 活动类型标识 (游戏类型标签 + 图标)
│   │   │   ├── ⏰ 活动状态指示 (进行中/即将开始/已结束状态)
│   │   │   └── 🔍 背景图放大功能 (点击查看大图)
│   │   └── 📊 活动元信息叠加
│   │       ├── 🏷️ 活动分类标签 (游戏/娱乐等分类)
│   │       ├── 🕐 发布时间显示 (相对时间显示)
│   │       └── 👁️ 浏览量统计 (查看人数统计)
│   │
│   ├── 👤 发起者信息卡片 📋 (发起者详细资料卡片)
│   │   ├── 🖼️ 发起者头像 (左侧圆形头像 + 在线状态指示)
│   │   │   ├── 👤 发起者照片 (高清圆形头像)
│   │   │   ├── 🟢 在线状态指示 (绿点表示在线)
│   │   │   ├── 🎯 认证标识 (实名认证 + V认证标识)
│   │   │   └── 🎬 头像点击交互 (点击查看发起者完整资料)
│   │   ├── 📝 发起者基本信息
│   │   │   ├── "昵称123" 发起者昵称 (粗体显示 + 自定义字体)
│   │   │   ├── 🎮 活动标签组 (多彩标签横向排列)
│   │   │   │   ├── 🟢 "高质量" 标签 (绿色圆角标签)
│   │   │   │   ├── 🔴 "人人" 标签 (红色圆角标签)
│   │   │   │   └── 🟡 其他特色标签 (根据发起者特征显示)
│   │   │   ├── ⭐ 信用评分显示 (星级评分 + 数字评分)
│   │   │   └── 📊 历史数据统计 (发起次数 + 成功率)
│   │   └── 💡 发起者个人介绍
│   │       ├── 📝 个人描述文字 (自我介绍 + 兴趣爱好)
│   │       ├── 🎯 专长标识 (擅长的活动类型)
│   │       └── 🕐 最后活跃时间 (最近在线时间显示)
│   │
│   ├── 📝 活动描述区域 📋 (活动详细信息卡片)
│   │   ├── 📊 活动标题区域
│   │   │   ├── 📝 "这里是活动标题" 活动主标题 (大字体 + 粗体)
│   │   │   ├── 🏷️ 活动副标题 (活动类型 + 特色说明)
│   │   │   └── 🎯 标题操作功能 (复制 + 分享标题)
│   │   ├── 📄 活动详细描述
│   │   │   ├── 📝 活动描述文字 (多行详细说明)
│   │   │   │   ├── "这里是探店活动的详情 这里是探店活动详情"
│   │   │   │   ├── "这里是探店活动的详情 这里是探店"
│   │   │   │   └── "活动详情 这里是探店活动详情"
│   │   │   ├── 🎨 富文本格式 (文字格式 + 表情符号支持)
│   │   │   ├── 🔍 内容搜索高亮 (搜索关键词高亮显示)
│   │   │   └── 📱 内容展开/折叠 (长内容的展开收起功能)
│   │   └── 📊 活动关键信息区域
│   │       ├── 🕐 活动时间信息
│   │       │   ├── 📅 "6月10日18:00" 活动开始时间
│   │       │   ├── ⏰ "12小时前截止报名" 报名截止时间 + 倒计时
│   │       │   ├── ⏳ 活动持续时长显示
│   │       │   └── 🌍 时区转换支持 (不同时区用户的时间显示)
│   │       ├── 📍 活动地点信息
│   │       │   ├── 🏢 "福田区下沙KK ONE海底捞" 详细地址
│   │       │   ├── 📏 "2.3km" 距离用户的实际距离
│   │       │   ├── 🗺️ 地图预览功能 (小地图预览)
│   │       │   └── 🧭 导航功能入口 (一键导航按钮)
│   │       ├── 💰 活动价格信息
│   │       │   ├── 💰 "300金币/小时/人" 价格详情 (红色突出显示)
│   │       │   ├── 🏷️ 计费方式说明 (按时间/按人/固定价格)
│   │       │   ├── 💸 费用包含内容 (包含哪些服务)
│   │       │   └── 💱 价格对比功能 (同类活动价格对比)
│   │       └── 👥 参与人数信息
│   │           ├── 🔢 "2人" 活动人数限制
│   │           ├── 👫 性别比例要求 (如有性别限制)
│   │           ├── 🎂 年龄限制要求 (如有年龄限制)
│   │           └── 📋 其他参与条件 (特殊要求说明)
│   │
│   ├── 👥 参与者状态区域 📋 (参与者信息展示卡片)
│   │   ├── 📊 参与统计信息
│   │   │   ├── 📝 "等50多位达人报名..." 参与状态提示
│   │   │   ├── 🔢 已报名人数统计 (实时更新)
│   │   │   ├── 👫 性别比例统计 (男女参与比例)
│   │   │   └── 📈 报名趋势显示 (报名人数变化趋势)
│   │   ├── 👥 参与者头像展示区域
│   │   │   ├── 👤《参与者头像1》(圆形头像 + 状态指示)
│   │   │   ├── 👤《参与者头像2》(圆形头像 + 状态指示)
│   │   │   ├── 👤《参与者头像3》(圆形头像 + 状态指示)
│   │   │   ├── 👤《参与者头像4》(圆形头像 + 状态指示)
│   │   │   ├── 👤《参与者头像5》(圆形头像 + 状态指示)
│   │   │   └── ➕ 更多参与者指示 (显示总人数)
│   │   ├── 🎯 参与者状态标识
│   │   │   ├── ✅ 已确认参与者 (绿色边框 + 对勾标识)
│   │   │   ├── ⏳ 等待确认参与者 (黄色边框 + 时钟标识)
│   │   │   ├── ❌ 已拒绝参与者 (灰色边框 + 叉号标识)
│   │   │   └── 🎭 匿名参与者 (隐私保护显示)
│   │   └── 📱 参与者列表功能
│   │       ├── 👀 查看全部参与者 (点击查看完整列表)
│   │       ├── 🔍 参与者搜索功能 (搜索特定参与者)
│   │       └── 📊 参与者详情查看 (点击头像查看用户信息)
│   │
│   ├── 💡 活动提示信息区域 📋 (注意事项和提示卡片)
│   │   ├── 📝 "报名费满先选的进全额" 报名提示文字
│   │   ├── ⚠️ 注意事项说明 (活动注意事项 + 安全提示)
│   │   ├── 📋 活动规则说明 (活动规则 + 参与条件)
│   │   ├── 🔒 隐私保护提示 (个人信息保护说明)
│   │   └── 📞 客服联系方式 (问题咨询 + 投诉渠道)
│   │
│   └── 🔻 底部操作区域 (固定底部操作栏)
│       ├── 💬「私信」按钮 📋 (左侧沟通按钮)
│       │   ├── 💬 私信图标 (消息图标 + 文字标签)
│       │   ├── 🎯 点击交互 (点击进入私信聊天页面)
│       │   ├── 🔐 权限检查 (聊天权限 + 黑名单检查)
│       │   └── 📱 消息预设 (预设问候消息模板)
│       └── 📝「报名」按钮 📋 (右侧主要CTA按钮)
│           ├── 💜 紫色主题样式 (紫色背景 + 白色文字)
│           ├── 🎯 按钮状态管理 (正常/加载/禁用状态)
│           ├── ✅ 报名条件检查 (点击时检查用户资格)
│           ├── 🎬 点击动效 (按钮点击动画 + 触觉反馈)
│           └── 🚦 状态指示 (报名/已报名/已满/已截止状态)
│
├── 【支付确认弹窗】🚨 (模态弹窗 - 报名支付确认)
│   ├── 🔝 弹窗头部区域 📋 (支付确认标题栏)
│   │   ├── 📝 "确认支付" 弹窗标题 (居中大字体显示)
│   │   ├── ❌「关闭」按钮 (右上角关闭按钮 + 取消确认)
│   │   └── 🎨 弹窗背景设计 (白色圆角背景 + 阴影效果)
│   │
│   ├── 👤 发起者确认区域 📋 (发起者信息确认卡片)
│   │   ├── 🖼️ 发起者头像确认 (发起者头像 + 昵称显示)
│   │   ├── 📝 "昵称123" 发起者昵称确认
│   │   ├── 🎯 活动认证标签确认 (认证信息确认)
│   │   └── 📝 活动基本信息确认 (活动标题 + 基本信息)
│   │
│   ├── 💳 支付详情区域 📋 (支付信息详情卡片)
│   │   ├── 💰 支付金额信息
│   │   │   ├── 📝 "确认支付" 支付类型标签
│   │   │   ├── 💰 "200金币" 支付金额 (大字体红色显示)
│   │   │   ├── 🪙 金币图标显示 (货币标识)
│   │   │   └── 💱 汇率换算提示 (金币对人民币汇率)
│   │   ├── 💳 支付方式选择
│   │   │   ├── 📝 "金币支付" 支付方式标签
│   │   │   ├── 🪙 金币支付图标 (支付方式图标)
│   │   │   ├── 💰 "余额: 300" 当前余额显示 (实时余额查询)
│   │   │   ├── 🎯 选中状态指示 (紫色对勾标识)
│   │   │   └── 🔄 其他支付方式 (微信/支付宝等备选)
│   │   ├── 📊 费用明细说明
│   │   │   ├── 💰 报名费用 (活动报名基础费用)
│   │   │   ├── 🏢 平台服务费 (平台手续费明细)
│   │   │   ├── 🎁 优惠减免 (优惠券/积分抵扣)
│   │   │   └── 💯 总计金额 (最终支付金额)
│   │   └── 📋 支付条款确认
│   │       ├── 📝 "我同意支付以下费用，该金额(含服务费)" 确认文字
│   │       ├── 📄 支付服务协议 (支付条款链接)
│   │       ├── 🔒 支付安全保障 (支付安全说明)
│   │       └── 💸 退款政策说明 (退款条件 + 退款流程)
│   │
│   └── 🔻 支付操作区域 (弹窗底部支付操作)
│       ├── 💳「立即支付」按钮 📋 (主要支付按钮)
│       │   ├── 💜 紫色主题样式 (全宽圆角按钮)
│       │   ├── 🎯 支付状态管理 (正常/处理中/成功/失败)
│       │   ├── 🔐 支付安全验证 (指纹/密码/短信验证)
│       │   ├── ⏳ 支付处理动画 (支付处理中loading)
│       │   └── 🎬 支付完成动效 (支付成功动画)
│       ├── 🚫「取消支付」按钮 (次要取消按钮)
│       └── 💡 支付提示信息 (支付安全最后提醒)
│
├── 【等待选择状态页面】📱 (等待状态页面 - 等待发起者确认)
│   ├── 📱 状态栏 (系统状态栏)
│   │
│   ├── 🔝 状态页导航栏 📋 (等待状态页头部)
│   │   ├── 🔙「返回」按钮 (返回上级页面)
│   │   ├── 📝 "详情" 页面标题
│   │   └── 🔄「刷新」按钮 (刷新状态按钮)
│   │
│   ├── 🎥 活动信息展示区域 📋 (活动背景信息 - 与详情页相同)
│   │   ├── 🖼️ 活动背景图 (相同的活动背景展示)
│   │   ├── 👤 发起者信息 (发起者头像和基本信息)
│   │   ├── 📝 活动描述内容 (活动标题和描述)
│   │   └── 📊 活动关键信息 (时间/地点/价格/人数)
│   │
│   ├── ⏳ 等待状态指示区域 📋 (等待状态提示卡片)
│   │   ├── 🎯 状态标题显示
│   │   │   ├── ⏳ 等待图标 (时钟/沙漏等待图标)
│   │   │   ├── 📝 "等待对方选择中" 状态提示文字
│   │   │   └── 🎨 等待状态样式 (橙色/黄色主题色)
│   │   ├── 👥 等待选择参与者展示
│   │   │   ├── 👤 当前用户头像 (用户自己的头像突出显示)
│   │   │   ├── 👥 其他等待用户头像 (其他等待选择的用户)
│   │   │   ├── 🔢 等待人数统计 (总共等待选择的人数)
│   │   │   └── 📊 选择进度显示 (发起者选择进度)
│   │   ├── 💡 等待说明信息
│   │   │   ├── 📝 "透露信息与选择过程可能需要金满" 说明文字
│   │   │   ├── ⏰ 预计等待时间 (预计发起者回复时间)
│   │   │   ├── 📋 等待期间注意事项 (等待期间的注意事项)
│   │   │   └── 🔔 状态变更通知 (状态变更时的通知设置)
│   │   └── 🎬 等待动画效果
│   │       ├── ⏳ 加载动画 (等待过程中的动画效果)
│   │       ├── 💫 呼吸灯效果 (状态指示的呼吸灯)
│   │       └── 🔄 自动刷新 (状态的自动刷新机制)
│   │
│   └── 🔻 等待操作区域 (底部等待状态操作)
│       ├── 💬「私信」按钮 📋 (联系发起者按钮)
│       │   ├── 💬 私信功能 (与发起者私信沟通)
│       │   ├── 🎯 沟通引导 (引导用户主动沟通)
│       │   └── 📱 消息模板 (预设沟通消息模板)
│       ├── ⏳「等待选择」按钮 📋 (等待状态按钮)
│       │   ├── 🎨 等待状态样式 (紫色但禁用状态)
│       │   ├── ⏳ 状态指示文字 (显示当前等待状态)
│       │   ├── 🚫 禁用交互 (按钮不可点击)
│       │   └── 💡 状态说明 (等待状态的说明提示)
│       └── 🔔「通知设置」按钮 (状态通知设置)
│           ├── 🔔 通知开关 (状态变更通知开关)
│           ├── 📱 通知方式 (推送/短信/邮件通知)
│           └── ⏰ 通知时间 (通知时间设置)
│
├── 【报名成功状态页面】📱 (成功状态页面 - 报名成功确认)
│   ├── 📱 状态栏 (系统状态栏)
│   │
│   ├── 🔝 成功页导航栏 📋 (成功状态页头部)
│   │   ├── 🔙「返回」按钮 (返回主页或组局中心)
│   │   ├── 📝 "详情" 页面标题
│   │   └── 🎉「分享」按钮 (分享成功状态)
│   │
│   ├── 🎥 活动信息展示区域 📋 (活动背景信息 - 与详情页相同)
│   │   ├── 🖼️ 活动背景图 (相同的活动背景展示)
│   │   ├── 👤 发起者信息 (发起者头像和基本信息)
│   │   ├── 📝 活动描述内容 (活动标题和描述)
│   │   └── 📊 活动关键信息 (时间/地点/价格/人数)
│   │
│   ├── ✅ 成功状态指示区域 📋 (成功状态展示卡片)
│   │   ├── 🎯 成功状态标题
│   │   │   ├── ✅ 成功图标 (绿色对勾/成功图标)
│   │   │   ├── 📝 "报名成功" 状态提示文字
│   │   │   └── 🎨 成功状态样式 (绿色主题色)
│   │   ├── 👥 成功参与者展示
│   │   │   ├── 👤 成功参与者信息
│   │   │   │   ├── 👤 "用户昵称123" + ✅ "报名成功" (用户信息 + 成功标识)
│   │   │   │   ├── 👤 "用户昵称123" + ✅ "报名成功" (其他成功用户)
│   │   │   │   └── 🎉 成功动画效果 (成功状态的动画)
│   │   │   ├── 📊 成功统计信息
│   │   │   │   ├── 🔢 成功人数统计 (已成功报名人数)
│   │   │   │   ├── 👥 全部参与者列表 (所有成功参与者)
│   │   │   │   └── 📈 活动热度显示 (活动受欢迎程度)
│   │   │   └── 🎭 用户排序显示 (按报名时间或其他规则排序)
│   │   ├── 💡 成功后续指引
│   │   │   ├── 📝 活动进行提示和注意事项
│   │   │   ├── ⏰ 活动时间提醒 (活动开始前的提醒设置)
│   │   │   ├── 📍 活动地点导航 (活动地点的导航功能)
│   │   │   ├── 📞 联系方式交换 (参与者之间的联系方式)
│   │   │   └── 📋 活动准备事项 (活动前的准备清单)
│   │   └── 🎁 成功奖励信息
│   │       ├── 🏆 积分奖励 (参与活动获得的积分)
│   │       ├── 🎫 优惠券奖励 (后续活动的优惠券)
│   │       ├── 🌟 经验值增加 (用户经验值提升)
│   │       └── 🎖️ 成就徽章 (参与活动获得的成就)
│   │
│   └── 🔻 成功操作区域 (底部成功状态操作)
│       ├── 💬「私信」按钮 📋 (联系发起者或其他参与者)
│       │   ├── 💬 群聊功能 (创建活动群聊)
│       │   ├── 👥 参与者联系 (与其他参与者私信)
│       │   └── 📱 联系方式交换 (交换联系方式)
│       ├── ✅「报名成功」按钮 📋 (成功状态按钮)
│       │   ├── 🎨 成功状态样式 (绿色确认按钮)
│       │   ├── ✅ 成功状态指示 (显示成功状态)
│       │   ├── 🔒 状态锁定 (成功状态不可更改)
│       │   └── 📱 后续操作指引 (成功后的操作指引)
│       └── 🎉「活动管理」按钮 (活动相关管理)
│           ├── 📅 添加到日历 (将活动添加到日历)
│           ├── 🔔 设置提醒 (活动提醒设置)
│           ├── 📍 查看路线 (活动地点路线)
│           └── 📊 活动详情 (查看完整活动详情)
│
├── 【报名失败状态页面】📱 (失败状态页面 - 报名失败处理)
│   ├── 📱 状态栏 (系统状态栏)
│   │
│   ├── 🔝 失败页导航栏 📋 (失败状态页头部)
│   │   ├── 🔙「返回」按钮 (返回组局中心或搜索其他活动)
│   │   ├── 📝 "详情" 页面标题
│   │   ├── 📋 矩形标识 (页面状态标识框)
│   │   └── 🔄「重试」按钮 (重新尝试报名)
│   │
│   ├── 🎥 活动信息展示区域 📋 (活动背景信息 - 与详情页相同)
│   │   ├── 🖼️ 活动背景图 (相同的活动背景展示 + 灰色滤镜)
│   │   ├── 👤 发起者信息 (发起者头像和基本信息)
│   │   ├── 📝 活动描述内容 (活动标题和描述)
│   │   └── 📊 活动关键信息 (时间/地点/价格/人数)
│   │
│   ├── ❌ 失败状态指示区域 📋 (失败状态展示卡片)
│   │   ├── 🎯 失败状态标题
│   │   │   ├── ❌ 失败图标 (红色叉号/失败图标)
│   │   │   ├── 📝 "报名失败" 状态提示文字
│   │   │   └── 🎨 失败状态样式 (红色/灰色主题色)
│   │   ├── 👥 失败参与者展示
│   │   │   ├── 👤 失败参与者信息
│   │   │   │   ├── 👤 "用户昵称123" + ❌ "报名失败" (用户信息 + 失败标识)
│   │   │   │   ├── 👤 "用户昵称123" + ❌ "报名失败" (其他失败用户)
│   │   │   │   └── 😔 失败状态动效 (失败状态的视觉反馈)
│   │   │   ├── 📊 失败统计信息
│   │   │   │   ├── 🔢 失败人数统计 (未能成功报名人数)
│   │   │   │   ├── 👥 候补名单 (候补等待名单)
│   │   │   │   └── 📉 活动满员状态 (活动已满员提示)
│   │   │   └── 🎭 失败原因分类 (按失败原因分类显示)
│   │   ├── 💡 失败原因说明
│   │   │   ├── 📝 失败原因详细说明和后续处理提示
│   │   │   ├── 🕐 报名超时 (报名截止时间已过)
│   │   │   ├── 👥 人数已满 (活动人数已达上限)
│   │   │   ├── 🚫 条件不符 (不符合参与条件)
│   │   │   ├── 💰 余额不足 (余额不足无法支付)
│   │   │   └── ⚠️ 其他原因 (系统错误或其他原因)
│   │   └── 🔄 后续建议操作
│   │       ├── 🔍 推荐类似活动 (推荐其他相似活动)
│   │       ├── 🔔 候补通知 (候补名单通知设置)
│   │       ├── 💰 充值余额 (如因余额不足失败)
│   │       └── 📞 联系客服 (联系客服获得帮助)
│   │
│   └── 🔻 失败操作区域 (底部失败状态操作)
│       ├── 💬「私信」按钮 📋 (联系发起者询问原因)
│       │   ├── 💬 询问原因 (向发起者询问失败原因)
│       │   ├── 🙏 请求重新考虑 (请求重新考虑申请)
│       │   └── 📱 沟通模板 (失败后的沟通模板)
│       ├── ❌「报名失败」按钮 📋 (失败状态按钮)
│       │   ├── 🎨 失败状态样式 (灰色禁用按钮)
│       │   ├── ❌ 失败状态指示 (显示失败状态)
│       │   ├── 🔒 状态锁定 (失败状态确认)
│       │   └── 💡 失败说明 (失败原因的简要说明)
│       └── 🔍「寻找其他」按钮 (寻找其他活动)
│           ├── 🔍 相似活动推荐 (推荐类似的活动)
│           ├── 📋 活动分类浏览 (按分类浏览其他活动)
│           ├── 🎯 个性化推荐 (基于用户偏好推荐)
│           └── 🆕 最新活动 (查看最新发布的活动)
│
└── 🔧 系统支持层
    ├── 报名状态管理服务 (状态跟踪 + 状态同步 + 状态通知)
    ├── 支付处理服务 (支付验证 + 支付执行 + 退款处理)
    ├── 消息通知服务 (状态变更通知 + 实时消息推送)
    ├── 用户权限服务 (参与权限验证 + 条件检查)
    └── 数据同步服务 (实时数据同步 + 状态一致性保证)
```

---

## 🔄 流程图（用户操作视角）

```
开始
 ↓
【进入组局详情页面】
 ↓
页面初始化加载
 ├─→ 加载活动详细信息
 ├─→ 加载发起者资料信息
 ├─→ 加载参与者状态列表
 ├─→ 检查用户参与权限和条件
 └─→ 初始化页面交互功能
 ↓
【浏览组局详情信息】
 ↓
查看活动展示区域
 ├─→ 查看活动背景图和基本信息
 │    ├─→ 查看游戏界面背景 (英雄联盟画面)
 │    ├─→ 了解活动类型和分类
 │    ├─→ 查看活动当前状态 (进行中/即将开始)
 │    └─→ 点击背景图查看大图 (可选)
 ├─→ 查看发起者信息
 │    ├─→ 查看发起者头像和昵称
 │    ├─→ 查看认证标识和信用评分
 │    ├─→ 查看活动标签 (高质量/人人等)
 │    ├─→ 阅读发起者个人介绍
 │    ├─→ 查看历史活动数据
 │    └─→ 点击头像查看完整资料 (可选)
 └─→ 查看活动详细描述
      ├─→ 阅读活动标题和描述内容
      ├─→ 确认活动时间 "6月10日18:00 12小时前截止报名"
      ├─→ 确认活动地点 "福田区下沙KK ONE海底捞 2.3km"
      ├─→ 确认活动价格 "300金币/小时/人"
      ├─→ 确认参与人数限制 "2人"
      └─→ 查看其他活动条件和要求
 ↓
查看参与者状态区域
 ├─→ 查看参与统计 "等50多位达人报名..."
 ├─→ 查看参与者头像列表
 │    ├─→ 查看已确认参与者 (绿色边框)
 │    ├─→ 查看等待确认参与者 (黄色边框)
 │    ├─→ 查看已拒绝参与者 (灰色边框)
 │    └─→ 点击头像查看用户详情 (可选)
 ├─→ 了解报名规则和提示
 │    ├─→ 阅读 "报名费满先选的进全额" 提示
 │    ├─→ 了解活动注意事项和安全提示
 │    ├─→ 查看活动规则和参与条件
 │    └─→ 了解隐私保护和客服联系方式
 └─→ 评估是否符合参与条件和个人意愿
 ↓
【用户参与决策】
 ↓
选择参与方式
 ├─→ 【私信沟通路径】
 │    ↓
 │   点击"私信"按钮
 │    ├─→ 检查私信权限和黑名单状态
 │    ├─→ 进入私信聊天页面
 │    ├─→ 发送预设问候消息或自定义消息
 │    ├─→ 与发起者进行沟通交流
 │    │    ├─→ 询问活动详细信息
 │    │    ├─→ 确认参与条件和要求
 │    │    ├─→ 协商活动相关事宜
 │    │    └─→ 获得发起者邀请或确认
 │    └─→ 根据沟通结果决定是否正式报名
 │
 └─→ 【直接报名支付路径】
      ↓
     点击"报名"按钮
      ├─→ 触发报名条件检查
      │    ├─→ 检查用户账户状态 (是否正常)
      │    ├─→ 检查用户资格 (年龄/性别/等级等条件)
      │    ├─→ 检查活动状态 (是否还可报名)
      │    ├─→ 检查报名截止时间 (是否还在有效期内)
      │    ├─→ 检查参与人数 (是否还有名额)
      │    └─→ 检查用户余额 (是否足够支付)
      ├─→ 条件检查通过
      │    ├─→ 显示报名按钮加载状态
      │    ├─→ 准备进入支付确认流程
      │    └─→ 弹出支付确认弹窗
      └─→ 条件检查失败
           ├─→ 显示具体失败原因
           │    ├─→ 账户异常 → 提示联系客服
           │    ├─→ 资格不符 → 显示具体不符条件
           │    ├─→ 活动已结束 → 提示活动状态
           │    ├─→ 报名已截止 → 显示截止时间
           │    ├─→ 名额已满 → 提示候补选项
           │    └─→ 余额不足 → 提示充值选项
           ├─→ 提供解决方案建议
           └─→ 保持在详情页面等待用户处理
 ↓
【支付确认流程 (直接报名路径)】
 ↓
显示支付确认弹窗
 ├─→ 弹窗展示动画 (从底部滑入)
 ├─→ 显示半透明背景遮罩
 ├─→ 聚焦支付弹窗内容
 └─→ 加载支付相关信息
 ↓
确认支付信息
 ├─→ 确认发起者信息
 │    ├─→ 验证发起者头像和昵称
 │    ├─→ 确认活动认证标签
 │    └─→ 确认活动基本信息
 ├─→ 确认支付详情
 │    ├─→ 确认支付金额 "200金币"
 │    ├─→ 检查当前余额 "余额: 300"
 │    ├─→ 确认支付方式 (金币支付选中)
 │    ├─→ 查看费用明细 (基础费用+服务费)
 │    └─→ 阅读支付条款和确认文字
 └─→ 检查支付条件
      ├─→ 余额充足情况
      │    ├─→ "立即支付"按钮正常状态 (紫色可点击)
      │    ├─→ 显示支付确认信息
      │    └─→ 准备执行支付流程
      ├─→ 余额不足情况
      │    ├─→ "立即支付"按钮禁用 (灰色不可点击)
      │    ├─→ 显示"余额不足"提示
      │    ├─→ 提供"充值"按钮选项
      │    └─→ 引导用户充值后重新支付
      └─→ 选择其他支付方式
           ├─→ 切换微信支付
           ├─→ 切换支付宝支付
           ├─→ 切换银行卡支付
           └─→ 更新支付流程和界面
 ↓
执行支付操作
 ├─→ 点击"立即支付"按钮
 │    ├─→ 按钮状态变为处理中 (显示loading)
 │    ├─→ 禁用取消支付按钮
 │    ├─→ 显示支付处理动画
 │    └─→ 开始支付安全验证
 ├─→ 支付安全验证流程
 │    ├─→ 指纹验证 (如设备支持)
 │    │    ├─→ 调用指纹识别API
 │    │    ├─→ 验证用户指纹
 │    │    ├─→ 验证成功 → 继续支付
 │    │    └─→ 验证失败 → 回退到密码验证
 │    ├─→ 支付密码验证
 │    │    ├─→ 显示密码输入界面
 │    │    ├─→ 用户输入支付密码
 │    │    ├─→ 验证密码正确性
 │    │    ├─→ 密码正确 → 继续支付
 │    │    └─→ 密码错误 → 重新输入或找回
 │    └─→ 短信验证 (高额支付)
 │         ├─→ 发送验证码到用户手机
 │         ├─→ 用户输入短信验证码
 │         ├─→ 验证码正确 → 继续支付
 │         └─→ 验证码错误 → 重新发送或重试
 ├─→ 支付请求处理
 │    ├─→ 向支付网关发送支付请求
 │    ├─→ 传输加密的支付数据
 │    ├─→ 实时监控支付处理状态
 │    ├─→ 设置支付超时处理机制
 │    └─→ 等待支付网关响应结果
 └─→ 支付结果处理
      ├─→ 支付成功
      │    ├─→ 显示支付成功动画效果
      │    ├─→ 更新用户余额显示
      │    ├─→ 关闭支付确认弹窗
      │    ├─→ 更新报名状态为"等待选择"
      │    └─→ 跳转到等待选择状态页面
      ├─→ 支付失败
      │    ├─→ 显示支付失败错误提示
      │    ├─→ 分析失败原因并提供解决方案
      │    ├─→ 提供重试支付选项
      │    ├─→ 提供更换支付方式选项
      │    └─→ 恢复支付按钮正常状态
      ├─→ 支付取消
      │    ├─→ 用户主动点击取消按钮
      │    ├─→ 关闭支付确认弹窗
      │    ├─→ 返回组局详情页面
      │    └─→ 保持原有页面状态
      └─→ 网络或系统错误
           ├─→ 显示网络连接错误提示
           ├─→ 提供重试支付选项
           ├─→ 提供检查网络建议
           └─→ 记录错误日志用于分析
 ↓
【等待选择状态阶段】
 ↓
进入等待选择状态页面
 ├─→ 页面加载和状态初始化
 │    ├─→ 加载活动信息 (与详情页相同)
 │    ├─→ 显示发起者和活动描述
 │    ├─→ 加载用户当前等待状态
 │    └─→ 初始化状态刷新机制
 ├─→ 显示等待状态指示
 │    ├─→ 显示等待图标和"等待对方选择中"文字
 │    ├─→ 显示当前用户在等待队列中的位置
 │    ├─→ 显示其他等待选择的用户头像
 │    ├─→ 显示等待人数统计和选择进度
 │    └─→ 播放等待状态的动画效果 (呼吸灯/加载动画)
 └─→ 显示等待说明和操作选项
      ├─→ 显示"透露信息与选择过程可能需要金满"说明
      ├─→ 显示预计等待时间和注意事项
      ├─→ 提供私信联系发起者的选项
      ├─→ 提供状态变更通知设置选项
      └─→ 设置状态自动刷新和实时更新
 ↓
等待期间的用户操作
 ├─→ 主动沟通交流
 │    ├─→ 点击"私信"按钮联系发起者
 │    ├─→ 发送沟通消息 (自我介绍/询问活动细节)
 │    ├─→ 提供个人相关信息增加被选中概率
 │    └─→ 保持礼貌和积极的沟通态度
 ├─→ 状态监控和等待
 │    ├─→ 定期刷新页面检查状态变化
 │    ├─→ 接收状态变更的推送通知
 │    ├─→ 查看等待队列变化和进度更新
 │    └─→ 耐心等待发起者的选择决定
 ├─→ 设置通知偏好
 │    ├─→ 开启状态变更推送通知
 │    ├─→ 设置通知接收方式 (APP推送/短信/邮件)
 │    ├─→ 设置通知时间偏好
 │    └─→ 管理通知频率和内容
 └─→ 备选方案准备
      ├─→ 继续浏览其他类似活动
      ├─→ 关注其他感兴趣的组局
      ├─→ 准备替代活动计划
      └─→ 设置候补活动提醒
 ↓
发起者选择决定处理
 ├─→ 接收选择结果通知
 │    ├─→ 收到APP推送通知
 │    ├─→ 收到短信/邮件通知 (如已设置)
 │    ├─→ 页面状态自动更新
 │    └─→ 系统音效和震动提醒
 ├─→ 【被选中 - 报名成功路径】
 │    ├─→ 显示报名成功动画和提示
 │    ├─→ 页面状态切换为"报名成功"
 │    ├─→ 跳转到报名成功状态页面
 │    └─→ 触发成功后的后续流程
 ├─→ 【未被选中 - 报名失败路径】
 │    ├─→ 显示报名失败提示和原因
 │    ├─→ 页面状态切换为"报名失败"
 │    ├─→ 跳转到报名失败状态页面
 │    └─→ 触发失败后的处理流程
 └─→ 【继续等待状态】
      ├─→ 发起者还未做出最终决定
      ├─→ 继续保持等待状态
      ├─→ 更新等待进度和时间
      └─→ 维持现有等待流程
 ↓
【最终状态处理】
 ↓
报名成功状态处理
 ├─→ 进入报名成功状态页面
 │    ├─→ 显示绿色成功主题界面
 │    ├─→ 展示成功图标和"报名成功"文字
 │    ├─→ 显示成功参与者信息和统计
 │    └─→ 播放成功庆祝动画效果
 ├─→ 成功后续指引和服务
 │    ├─→ 显示活动进行提示和注意事项
 │    ├─→ 设置活动开始前的时间提醒
 │    ├─→ 提供活动地点的导航功能
 │    ├─→ 启用参与者之间的联系方式交换
 │    ├─→ 提供活动准备事项清单
 │    └─→ 显示参与奖励 (积分/优惠券/经验值)
 ├─→ 成功状态下的操作选项
 │    ├─→ 私信功能升级 (创建活动群聊)
 │    ├─→ 与其他参与者建立联系
 │    ├─→ 交换联系方式便于活动协调
 │    ├─→ 将活动添加到个人日历
 │    ├─→ 设置活动相关提醒
 │    ├─→ 查看活动地点路线规划
 │    └─→ 分享成功状态到社交媒体
 └─→ 成功状态管理
      ├─→ 状态锁定 (成功状态不可更改)
      ├─→ 状态持久化保存
      ├─→ 相关数据同步更新
      └─→ 触发成功后的业务流程
 ↓
报名失败状态处理
 ├─→ 进入报名失败状态页面
 │    ├─→ 显示灰色/红色失败主题界面
 │    ├─→ 展示失败图标和"报名失败"文字
 │    ├─→ 显示失败参与者信息
 │    └─→ 应用失败状态的视觉效果 (背景灰色滤镜)
 ├─→ 失败原因分析和说明
 │    ├─→ 显示详细失败原因说明
 │    ├─→ 分析失败原因类型
 │    │    ├─→ 报名超时 (截止时间已过)
 │    │    ├─→ 人数已满 (活动名额已满)
 │    │    ├─→ 条件不符 (不符合参与条件)
 │    │    ├─→ 余额不足 (支付失败)
 │    │    ├─→ 发起者拒绝 (主观选择)
 │    │    └─→ 系统错误 (技术问题)
 │    ├─→ 提供针对性解决建议
 │    └─→ 显示后续处理指引
 ├─→ 失败后的补救和选择
 │    ├─→ 自动退款处理 (如已支付)
 │    │    ├─→ 退款到原支付方式
 │    │    ├─→ 更新用户余额显示
 │    │    ├─→ 发送退款确认通知
 │    │    └─→ 记录退款交易记录
 │    ├─→ 推荐类似活动
 │    │    ├─→ 基于活动类型推荐
 │    │    ├─→ 基于地点距离推荐
 │    │    ├─→ 基于价格范围推荐
 │    │    └─→ 基于时间安排推荐
 │    ├─→ 候补名单选项
 │    │    ├─→ 加入候补等待名单
 │    │    ├─→ 设置候补通知提醒
 │    │    ├─→ 监控名额释放情况
 │    │    └─→ 自动重新报名机制
 │    └─→ 问题反馈和申诉
 │         ├─→ 联系发起者询问具体原因
 │         ├─→ 向平台客服反馈问题
 │         ├─→ 提交申诉请求重新考虑
 │         └─→ 获得专业建议和帮助
 ├─→ 失败状态下的操作选项
 │    ├─→ 私信发起者 (询问失败原因)
 │    ├─→ 请求重新考虑申请
 │    ├─→ 使用沟通模板进行友好交流
 │    ├─→ 寻找其他类似活动
 │    ├─→ 浏览推荐的相关活动
 │    ├─→ 按分类搜索其他组局
 │    └─→ 获得个性化活动推荐
 └─→ 失败状态管理和学习
      ├─→ 状态确认和接受
      ├─→ 失败经验总结和学习
      ├─→ 个人资料和条件优化建议
      └─→ 提升未来报名成功率的指导
 ↓
【流程完成和后续管理】
 ↓
流程结果处理
 ├─→ 成功结果
 │    ├─→ 进入活动管理阶段
 │    ├─→ 等待活动开始和参与
 │    ├─→ 享受活动过程和体验
 │    ├─→ 活动结束后进行评价反馈
 │    └─→ 获得参与经验和奖励积累
 ├─→ 失败结果
 │    ├─→ 总结失败经验和教训
 │    ├─→ 优化个人资料和条件
 │    ├─→ 寻找和参与其他活动
 │    ├─→ 提升个人信誉和等级
 │    └─→ 积累更多活动参与经验
 └─→ 持续改进
      ├─→ 根据反馈优化报名策略
      ├─→ 提升个人活动参与能力
      ├─→ 建立良好的社交关系网络
      └─→ 成为更有竞争力的活动参与者
 ↓
结束
```

---

## 🎨 UI设计特性

### 1. 页面状态设计
- **📱 组局详情页面**：活动展示 + 发起者信息 + 活动描述 + 参与者状态的垂直滚动布局
- **🚨 支付确认弹窗**：模态弹窗设计，发起者确认 + 支付详情 + 操作按钮的卡片布局
- **📱 等待选择状态页面**：等待主题色（橙色/黄色）+ 等待动画 + 状态提示的专用状态页面
- **📱 报名成功状态页面**：成功主题色（绿色）+ 成功动画 + 后续指引的庆祝页面设计
- **📱 报名失败状态页面**：失败主题色（灰色/红色）+ 失败说明 + 补救建议的处理页面

### 2. 活动展示组件强化
- **🎥 活动背景展示**：全宽16:9比例背景图 + 渐变遮罩 + 游戏界面展示 + 放大查看功能
- **👤 发起者信息卡片**：头像 + 在线状态 + 认证标识 + 信用评分 + 活动标签 + 个人介绍
- **📝 活动描述区域**：标题 + 详细描述 + 关键信息（时间/地点/价格/人数）+ 富文本格式

### 3. 参与者状态组件
- **👥 参与者头像展示**：5个头像重叠显示 + 状态颜色标识 + 点击查看详情
- **📊 参与统计信息**：实时人数统计 + 性别比例 + 报名趋势 + 状态分类
- **🎯 状态标识系统**：绿色（已确认）+ 黄色（等待）+ 灰色（已拒绝）+ 动画效果

### 4. 支付确认弹窗组件
- **💳 支付信息展示**：大字体金额显示 + 汇率换算 + 余额检查 + 支付方式选择
- **📊 费用明细展示**：基础费用 + 服务费 + 优惠减免 + 总计金额的详细分解
- **🔒 支付安全验证**：指纹验证 + 密码验证 + 短信验证的多重安全机制

### 5. 状态页面专用设计
- **⏳ 等待状态设计**：等待图标 + 呼吸灯动画 + 进度指示 + 实时状态更新 + 自动刷新
- **✅ 成功状态设计**：成功图标 + 庆祝动画 + 绿色主题 + 后续指引 + 奖励展示
- **❌ 失败状态设计**：失败图标 + 灰色滤镜 + 原因说明 + 补救建议 + 替代选择

### 6. 交互动效设计
- **弹窗展示动画**：支付弹窗从底部滑入 + 背景遮罩淡入 + 内容渐显效果
- **状态切换动画**：等待→成功/失败的状态转换动画 + 颜色主题变化 + 图标变化
- **按钮交互反馈**：点击缩放 + 加载状态 + 成功/失败反馈 + 触觉反馈
- **实时更新动效**：参与者头像更新 + 状态数字变化 + 新消息提示动画

### 7. 响应式布局适配
- **固定头部导航**：返回按钮 + 页面标题 + 更多操作的统一头部布局
- **底部操作栏**：私信 + 报名/状态按钮的固定底部布局，按钮宽度自适应
- **卡片弹性布局**：活动信息 + 发起者信息 + 参与者状态的卡片式弹性排列
- **弹窗自适应**：支付弹窗在不同设备上的尺寸和位置自适应

### 8. 状态管理设计
- **实时状态同步**：WebSocket连接 + 状态变更通知 + 数据一致性保证
- **状态持久化**：状态本地缓存 + 断网恢复 + 状态历史记录
- **通知系统**：推送通知 + 短信通知 + 邮件通知的多渠道状态通知
- **权限管理**：参与权限检查 + 条件验证 + 安全控制

---

*文档创建时间：2024年12月19日*  
*版本：v1.0*  
*基于：组局报名流程5页面原型图分析*  
*设计方法：强化树状图 + 详细流程图*  
*复杂度等级：★★★★★ (完整报名闭环流程)*
